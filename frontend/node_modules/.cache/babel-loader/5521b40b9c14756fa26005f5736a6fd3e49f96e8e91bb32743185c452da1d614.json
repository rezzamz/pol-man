{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:8000'; // آدرس سرور\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nconst handleDelete = async id => {\n  try {\n    const response = await deleteHall(id); // اطمینان حاصل کنید که id به درستی ارسال می‌شود\n    console.log(\"Hall deleted successfully\", response);\n  } catch (error) {\n    console.error(\"Error deleting hall\", error);\n  }\n};\nexport const deleteHall = async hallId => {\n  try {\n    const response = await fetch(`/api/halls/${hallId}`, {\n      method: 'DELETE',\n      // متد DELETE برای حذف اطلاعات\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error('Failed to delete hall');\n    }\n    return response.json();\n  } catch (error) {\n    console.error('Error deleting hall:', error);\n    throw error;\n  }\n};\nexport const getData = async endpoint => {\n  try {\n    const response = await api.get(endpoint);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\nexport const postData = async (endpoint, data) => {\n  try {\n    const response = await api.post(endpoint, data);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\nexport const fetchHalls = async () => {\n  try {\n    const response = await api.get('/halls'); // مسیر GET سالن‌ها\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\nexport const createHall = async hallData => {\n  try {\n    const response = await api.post('/halls/create', hallData); // مسیر POST برای ساخت سالن\n    return response.data;\n  } catch (error) {\n    console.error('Error creating hall:', error);\n    throw error;\n  }\n};\nconst handleApiError = error => {\n  if (axios.isAxiosError(error) && error.response) {\n    console.error(`API Error: ${error.response.status} ${error.response.statusText}`);\n  } else {\n    console.error('Unexpected error', error);\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","headers","handleDelete","id","response","deleteHall","console","log","error","hallId","fetch","method","ok","Error","json","getData","endpoint","get","data","handleApiError","postData","post","fetchHalls","createHall","hallData","isAxiosError","status","statusText"],"sources":["/Users/rezamohammadzadeh/pol-man/frontend/src/services/api.ts"],"sourcesContent":["import axios, { AxiosResponse } from 'axios';\n\nconst API_BASE_URL = 'http://localhost:8000'; // آدرس سرور\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n\n  },\n});\nconst handleDelete = async (id: string) => {\n  try {\n    const response = await deleteHall(id); // اطمینان حاصل کنید که id به درستی ارسال می‌شود\n    console.log(\"Hall deleted successfully\", response);\n  } catch (error) {\n    console.error(\"Error deleting hall\", error);\n  }\n};\n\nexport const deleteHall = async (hallId: string) => {\n  try {\n    const response = await fetch(`/api/halls/${hallId}`, {\n      method: 'DELETE', // متد DELETE برای حذف اطلاعات\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to delete hall');\n    }\n\n    return response.json();\n  } catch (error) {\n    console.error('Error deleting hall:', error);\n    throw error;\n  }\n};\n\nexport const getData = async <T>(endpoint: string): Promise<T> => {\n  try {\n    const response: AxiosResponse<T> = await api.get(endpoint);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\nexport const postData = async <T>(endpoint: string, data: unknown): Promise<T> => {\n  try {\n    const response: AxiosResponse<T> = await api.post(endpoint, data);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\nexport const fetchHalls = async () => {\n  try {\n    const response = await api.get('/halls'); // مسیر GET سالن‌ها\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\nexport const createHall = async (hallData: any) => {\n  try {\n    const response = await api.post('/halls/create', hallData); // مسیر POST برای ساخت سالن\n    return response.data;\n  } catch (error) {\n    console.error('Error creating hall:', error);\n    throw error;\n  }\n};\n\nconst handleApiError = (error: unknown): void => {\n  if (axios.isAxiosError(error) && error.response) {\n    console.error(`API Error: ${error.response.status} ${error.response.statusText}`);\n  } else {\n    console.error('Unexpected error', error);\n  }\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}